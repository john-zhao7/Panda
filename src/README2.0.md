1.car_interfaces和hmi和lidar的编译增加了些许内容，Cmake可能还是有些许问题的。
msg文件不要随便替换了
cmake --version

catkin_make -j16

rospack list
查cpu：
nproc
lscpu


2.lidar重写了一版py，解决unknow数据错误的问题  注意用car_interfaces的新msg


3.将mpc制成速度规划函数在control中调用。并在wirecontrol中相应修改。
4.状态机重写条件
5.decision重新调整了一下

6.plan control的2.0修改完了


12.21 3.0更新：
lidar 过滤低矮障碍物，彻底解决编译问题

....其余全部3.0阶段
cmake顺序
频率和线程控制
mark
local
decision的一些逻辑
acc暂未加入


hmi更新，适配3.0的程序


### 12.26
faultdiagnosis将self_check融合为一个节点了
开机自启一次线控信息，然后就不需要了（5s）
1.正常循迹
2.decision改好
3.外面测试



rviz插件工作 loading...

[{'acc_x': 0.0015314089832827449, 'acc_y': -0.0012192913563922048, 'acc_z': 0.0, 'core_x': -6.046914100646973, 'core_y': -0.16290698945522308, 'core_z': 1.7191150188446045, 'dis_x': -6.046914100646973, 'dis_y': -0.16290698945522308, 'dis_z': 1.7191150188446045, 'exist_con': 0.999061644077301, 'id': 1, 'object_x': 2.9734854698181152, 'object_y': 11.150300979614258, 'object_z': 3.275946617126465, 'type': 4, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': -0.0005175824044272304, 'acc_y': -0.0009504494373686612, 'acc_z': 0.0, 'core_x': -7.219605922698975, 'core_y': -5.386082172393799, 'core_z': 1.6853454113006592, 'dis_x': -7.219605922698975, 'dis_y': -5.386082172393799, 'dis_z': 1.6853454113006592, 'exist_con': 0.99909907579422, 'id': 2, 'object_x': 2.855989456176758, 'object_y': 8.942980766296387, 'object_z': 3.161376476287842, 'type': 4, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': 0.002116127172484994, 'acc_y': 0.0010916992323473096, 'acc_z': 0.0, 'core_x': 42.014930725097656, 'core_y': 46.00544357299805, 'core_z': 1.1002230644226074, 'dis_x': 42.014930725097656, 'dis_y': 46.00544357299805, 'dis_z': 1.1002230644226074, 'exist_con': 0.999018132686615, 'id': 30, 'object_x': 2.0965096950531006, 'object_y': 4.982310771942139, 'object_z': 1.7109984159469604, 'type': 3, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': -0.059571314603090286, 'acc_y': -0.061263956129550934, 'acc_z': 0.0, 'core_x': 46.20942687988281, 'core_y': 46.04768371582031, 'core_z': 1.0401418209075928, 'dis_x': 46.20942687988281, 'dis_y': 46.04768371582031, 'dis_z': 1.0401418209075928, 'exist_con': 0.9990848898887634, 'id': 33, 'object_x': 2.0940158367156982, 'object_y': 4.9885573387146, 'object_z': 1.7021015882492065, 'type': 3, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': -0.12239687144756317, 'acc_y': -0.5611624121665955, 'acc_z': 0.0, 'core_x': 15.553719520568848, 'core_y': -17.992019653320312, 'core_z': 0.8511556386947632, 'dis_x': 15.553719520568848, 'dis_y': -17.992019653320312, 'dis_z': 0.8511556386947632, 'exist_con': 0.9988566637039185, 'id': 6, 'object_x': 0.7013872861862183, 'object_y': 0.7019150853157043, 'object_z': 1.7055037021636963, 'type': 1, 'vel_x': -1.3003230094909668, 'vel_y': -0.0013045743107795715, 'vel_z': 0.0}, {'acc_x': 0.009018461219966412, 'acc_y': 0.0008561132126487792, 'acc_z': 0.0, 'core_x': 9.740096092224121, 'core_y': -15.49092960357666, 'core_z': 0.7826261520385742, 'dis_x': 9.740096092224121, 'dis_y': -15.49092960357666, 'dis_z': 0.7826261520385742, 'exist_con': 0.9987728595733643, 'id': 4, 'object_x': 0.8005160689353943, 'object_y': 1.8018977642059326, 'object_z': 1.612220048904419, 'type': 2, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': 0.00012442767911124974, 'acc_y': 0.0020995645318180323, 'acc_z': 0.0, 'core_x': 48.49812316894531, 'core_y': 46.13772201538086, 'core_z': 1.0032789707183838, 'dis_x': 48.49812316894531, 'dis_y': 46.13772201538086, 'dis_z': 1.0032789707183838, 'exist_con': 0.9991140365600586, 'id': 34, 'object_x': 2.093404769897461, 'object_y': 4.993277549743652, 'object_z': 1.6999058723449707, 'type': 3, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': -0.010500451549887657, 'acc_y': -0.009093483909964561, 'acc_z': 0.0, 'core_x': 63.959564208984375, 'core_y': 37.438289642333984, 'core_z': 1.144124984741211, 'dis_x': 63.959564208984375, 'dis_y': 37.438289642333984, 'dis_z': 1.144124984741211, 'exist_con': 0.9990667104721069, 'id': 36, 'object_x': 0.8004299998283386, 'object_y': 1.799678921699524, 'object_z': 1.60530424118042, 'type': 2, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}]
[{'acc_x': 0.24238182604312897, 'acc_y': 0.1684396117925644, 'attention_type': 1, 'dis_x': -42.44758605957031, 'dis_y': 41.71994400024414, 'dis_z': 1.4977818727493286, 'exist_con': 0.0, 'id': 25, 'motion_state': 0, 'object_x': 2.664581298828125, 'object_y': 6.527854919433594, 'object_z': 2.978689432144165, 'tra_id': 16624, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': 0.0014276219299063087, 'acc_y': -0.011609976179897785, 'attention_type': 1, 'dis_x': -36.909210205078125, 'dis_y': 40.959774017333984, 'dis_z': 1.5294188261032104, 'exist_con': 0.0, 'id': 22, 'motion_state': 0, 'object_x': 4.189563751220703, 'object_y': 7.882169723510742, 'object_z': 2.9352667331695557, 'tra_id': 3665, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, None, None, None, {'acc_x': 0.003417215310037136, 'acc_y': -0.0022825191263109446, 'attention_type': 1, 'dis_x': -24.709442138671875, 'dis_y': 46.14482498168945, 'dis_z': 1.5445815324783325, 'exist_con': 0.0, 'id': 17, 'motion_state': 0, 'object_x': 2.4014816284179688, 'object_y': 3.464419364929199, 'object_z': 2.8861119747161865, 'tra_id': 16580, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': -0.004720688331872225, 'acc_y': 0.006294342689216137, 'attention_type': 1, 'dis_x': -24.89629364013672, 'dis_y': 55.07973861694336, 'dis_z': 1.6423389911651611, 'exist_con': 0.0, 'id': 29, 'motion_state': 0, 'object_x': 0.3206138610839844, 'object_y': 0.6667556762695312, 'object_z': 2.646111488342285, 'tra_id': 16572, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': -0.03624376282095909, 'acc_y': 0.08388633280992508, 'attention_type': 1, 'dis_x': -24.134639739990234, 'dis_y': 58.65521240234375, 'dis_z': 1.576698660850525, 'exist_con': 0.0, 'id': 31, 'motion_state': 0, 'object_x': 0.2342071533203125, 'object_y': 0.6169643402099609, 'object_z': 2.771794557571411, 'tra_id': 16571, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': -0.0006791676860302687, 'acc_y': -0.003217365127056837, 'attention_type': 1, 'dis_x': -22.183752059936523, 'dis_y': 55.826534271240234, 'dis_z': 1.6654551029205322, 'exist_con': 0.0, 'id': 27, 'motion_state': 0, 'object_x': 0.34758758544921875, 'object_y': 0.471435546875, 'object_z': 2.6331820487976074, 'tra_id': 6507, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': 0.3088550567626953, 'acc_y': -0.9121032357215881, 'attention_type': 1, 'dis_x': -21.296566009521484, 'dis_y': 43.79912185668945, 'dis_z': 1.4415059089660645, 'exist_con': 0.0, 'id': 12, 'motion_state': 0, 'object_x': 0.11158370971679688, 'object_y': 0.28298187255859375, 'object_z': 2.8072686195373535, 'tra_id': 16574, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': -0.03815293684601784, 'acc_y': -0.029714662581682205, 'attention_type': 1, 'dis_x': -19.260608673095703, 'dis_y': 56.72880172729492, 'dis_z': 1.7593438625335693, 'exist_con': 0.0, 'id': 26, 'motion_state': 0, 'object_x': 1.0073890686035156, 'object_y': 1.9379730224609375, 'object_z': 2.474318027496338, 'tra_id': 6505, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': -2.0524134635925293, 'acc_y': -1.1540358066558838, 'attention_type': 1, 'dis_x': -16.879560470581055, 'dis_y': 68.31243896484375, 'dis_z': 1.4938318729400635, 'exist_con': 0.0, 'id': 35, 'motion_state': 0, 'object_x': 9.22882080078125, 'object_y': 17.838830947875977, 'object_z': 2.9626870155334473, 'tra_id': 16563, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': 0.014842977747321129, 'acc_y': 0.008985334075987339, 'attention_type': 1, 'dis_x': -16.082868576049805, 'dis_y': 58.119361877441406, 'dis_z': 1.6526596546173096, 'exist_con': 0.0, 'id': 28, 'motion_state': 0, 'object_x': 0.4272956848144531, 'object_y': 0.5640754699707031, 'object_z': 2.5293588638305664, 'tra_id': 16560, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': -0.001062385505065322, 'acc_y': -0.0010930874850600958, 'attention_type': 1, 'dis_x': -17.838581085205078, 'dis_y': -6.260563373565674, 'dis_z': 1.5015745162963867, 'exist_con': 0.0, 'id': 5, 'motion_state': 0, 'object_x': 12.765649795532227, 'object_y': 39.47074890136719, 'object_z': 2.996713638305664, 'tra_id': 39, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': 0.0026114697102457285, 'acc_y': -0.0031726753804832697, 'attention_type': 1, 'dis_x': -12.391352653503418, 'dis_y': 58.1329345703125, 'dis_z': 1.5885299444198608, 'exist_con': 0.0, 'id': 24, 'motion_state': 0, 'object_x': 2.3941173553466797, 'object_y': 3.023700714111328, 'object_z': 2.71136736869812, 'tra_id': 40, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': 0.3764335513114929, 'acc_y': -0.038144469261169434, 'attention_type': 1, 'dis_x': 0.24524366855621338, 'dis_y': 56.91469192504883, 'dis_z': 1.639797568321228, 'exist_con': 0.0, 'id': 23, 'motion_state': 0, 'object_x': 5.0732879638671875, 'object_y': 16.8427677154541, 'object_z': 2.720332384109497, 'tra_id': 16542, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': 0.00023128316388465464, 'acc_y': 0.0025458578020334244, 'attention_type': 1, 'dis_x': -6.77521276473999, 'dis_y': 48.28986740112305, 'dis_z': 1.525404453277588, 'exist_con': 0.0, 'id': 13, 'motion_state': 0, 'object_x': 0.4718351364135742, 'object_y': 0.24020767211914062, 'object_z': 2.806042194366455, 'tra_id': 16544, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': -0.009658616036176682, 'acc_y': 0.015691109001636505, 'attention_type': 1, 'dis_x': 4.0311713218688965, 'dis_y': 52.81201171875, 'dis_z': 1.5194017887115479, 'exist_con': 0.0, 'id': 19, 'motion_state': 0, 'object_x': 1.9994773864746094, 'object_y': 14.685613632202148, 'object_z': 2.8119421005249023, 'tra_id': 44, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, None, {'acc_x': 0.0021434936206787825, 'acc_y': -0.0036453986540436745, 'attention_type': 1, 'dis_x': 9.051859855651855, 'dis_y': 4.518213272094727, 'dis_z': 1.499712586402893, 'exist_con': 0.0, 'id': 3, 'motion_state': 0, 'object_x': 3.882509708404541, 'object_y': 4.382978916168213, 'object_z': 2.9992668628692627, 'tra_id': 13, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, None, None, None, {'acc_x': -0.009673971682786942, 'acc_y': -0.08950694650411606, 'attention_type': 1, 'dis_x': 17.414813995361328, 'dis_y': 44.06704330444336, 'dis_z': 1.6244328022003174, 'exist_con': 0.0, 'id': 11, 'motion_state': 0, 'object_x': 4.550195693969727, 'object_y': 7.038272857666016, 'object_z': 2.7503232955932617, 'tra_id': 16601, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': 0.01011921651661396, 'acc_y': 0.014408057555556297, 'attention_type': 1, 'dis_x': 18.29875373840332, 'dis_y': 31.299057006835938, 'dis_z': 1.5094671249389648, 'exist_con': 0.0, 'id': 7, 'motion_state': 0, 'object_x': 4.461824417114258, 'object_y': 17.46446418762207, 'object_z': 2.972492218017578, 'tra_id': 13764, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': 0.07334288954734802, 'acc_y': 0.005530976690351963, 'attention_type': 1, 'dis_x': 14.812232971191406, 'dis_y': 62.30092239379883, 'dis_z': 1.5586304664611816, 'exist_con': 0.0, 'id': 32, 'motion_state': 0, 'object_x': 2.4664344787597656, 'object_y': 12.508708953857422, 'object_z': 2.817080020904541, 'tra_id': 16615, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': 0.01345369964838028, 'acc_y': 0.0030112715903669596, 'attention_type': 1, 'dis_x': 31.24875259399414, 'dis_y': 29.511281967163086, 'dis_z': 0.502912163734436, 'exist_con': 0.0, 'id': 9, 'motion_state': 0, 'object_x': 0.3288860321044922, 'object_y': 0.7525558471679688, 'object_z': 0.739978551864624, 'tra_id': 16494, 'type': 0, 'vel_x': 0.0, 'vel_y': 0.0, 'vel_z': 0.0}, {'acc_x': -5.706709384918213, 'acc_y': -0.7272833585739136, 'attention_type': 1, 'dis_x': 32.686893463134766, 'dis_y': 29.930641174316406, 'dis_z': 0.6571379899978638, 'exist_con': 0.0, 'id': 10, 'motion_state': 0, 'object_x': 1.4631614685058594, 'object_y': 4.177954196929932, 'object_z': 1.0755031108856201, 'tra_id': 16495, 'type': 0, 'vel_x': 0.17307613790035248, 'vel_y': 0.95829176902771, 'vel_z': 0.0}]
Exception in thread Thread-10:
Traceback (most recent call last):
  File "/usr/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
  File "/home/nvidia/las/src/decision/scripts/decision.py", line 439, in ROI_objs_select_from_camera_and_lidar
    nearest_lidar_obj_select(lidar_unknow_objs_list, ego_content, local_Map_dict, offset_fromplan)
  File "/home/nvidia/las/src/decision/scripts/decision.py", line 261, in nearest_lidar_obj_select
    math.pow(obj_list[i]['dis_y'], 2) + math.pow(obj_list[i]['dis_x'], 2))
TypeError: 'NoneType' object is not subscriptable






、、、
1.7版本升级
重新的要求：hmi不需要点击其他任何东西
开机自启自检，->如果中途有问题可以选择自动驾驶系统重启
所以在重启中会先加入关闭
然后是正常情况，那就直接点击一键启动即可。一键关闭。
然后就是正常的采集地图的功能。

然后现在不管地图是保存为什么样的形式了，只要是英文都可以。这个地址会发送到decision
plan3.0
加入了搜索路径，不是vscode中可以进行调试，提高效率
加入了回调flag，解决部分报错问题
加入了自适应路径，减少hmi依赖
show_rviz 加入了rviz的站点红绿灯位置显示（后续还可以加入红绿状态）
control对应修改
light 检测的数据可视化修改，准备好好存数据了

decision
wirecontrol
再具体分析后修改吧。。。。


还有就是什么导致了wirecontrol需要重启。还有按钮这样的东西。



acc模块准备：
decision必须调好，障碍物必须是正常避障才行。


rviz插件工作 loading...



数据工程：
sudo apt install simplescreenrecorder




1、数据工程：
主要是循迹效果的数据和视频数据：
plan control wirecontrol gps
decision light  数据





ImportError: cannot import name 'prcolor' from 'lib' (/home/nvidia/.local/lib/python3.8/site-packages/lib/__init__.py)

